
@{
    ViewBag.Title = "Let's chat!";
}

    <div class="form-group">
        <label for="name">Name</label>
        <input type="text" class="form-control" id="name" placeholder="Enter your name">
    </div>
    <div class="form-group">
        <div id="response"></div>
    </div>

    <div class="form-group">
        <label for="message">Message</label>
        <textarea rows="2" class="form-control" id="message" placeholder="Type your message"></textarea>
    </div>
    <button id="btnSend" type="button" class="btn btn-default">Send</button>

@section scripts {
<script>

    var hub = $.connection.chat;

    // Message Received
    hub.client.sendMessage = function (name, message) {
        $("#response").append("<p><b>" + name + "</b>: " + message + "</p>");
    };

    $("#btnSend").on("click", function () {
        hub.server.sendMessage(
            $("#name").val(),
            $("#message").val()
        );
    });
</script>
}